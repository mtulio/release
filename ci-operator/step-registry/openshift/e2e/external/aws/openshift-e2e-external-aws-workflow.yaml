workflow:
  as: openshift-e2e-external-aws
  steps:
    pre:
    - chain: platform-external-cluster-aws-pre
    test:
    - ref: openshift-e2e-test
    post:
    - chain: gather
    - chain: platform-external-cluster-aws-post
    # Not working:
    dependencies:
      OPENSHIFT_INSTALL_RELEASE_IMAGE_OVERRIDE: "release:initial"
      OPENSHIFT_UPGRADE_RELEASE_IMAGE_OVERRIDE: "release:latest"
    env:
      #CLUSTER_TYPE: external
      PROVIDER_NAME: aws
      PLATFORM_EXTERNAL_CCM_ENABLED: no
      BASE_DOMAIN: origin-ci-int-aws.dev.rhcloud.com
      #PLATFORM_EXTERNAL_OVERRIDE_RELEASE: "quay.io/openshift-release-dev/ocp-release:4.15.0-rc.7-x86_64"
  documentation: |-
    The origin E2E AWS Local Zones workflow executes the common end-to-end test suite with OVNKubernetes network
    plugin on an AWS cluster with localzone compute nodes.
